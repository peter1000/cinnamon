# Description: Cinnamon window manager based on Mutter.
# URL: http://cinnamon.linuxmint.com/
# Maintainer: https://github.com/linuxmint
# Packager: fanch at orange do fr thierryn1 at hispeed dot ch
# Depends on: clutter gobject-introspection-runtime cinnamon-desktop libcanberra xorg-libsm startup-notification zenity dconf


name=muffin
version=2.6.1
release=1
source=()
_gitroot=https://github.com/linuxmint/muffin.git
_gitname=muffin

build() {
	cd $SRC
	
	if [[ -d $_gitname ]]; then
		cd $_gitname && git pull origin
	else
		git clone $_gitroot $_gitname
	fi


	rm -rf $SRC/$_gitname-build
	git clone $SRC/$_gitname $SRC/$_gitname-build
	cd $SRC/$_gitname-build
	
  ./autogen.sh --prefix=/usr \
				--sysconfdir=/etc \
				--libexecdir=/usr/lib/muffin \
  				--localstatedir=/var \
  				--disable-static \
  				--disable-schemas-compile \
				--enable-compile-warnings=minimum
    make 
	
    make DESTDIR=$PKG install
	make -C src DESTDIR=$PKG uninstall-binPROGRAMS uninstall-desktopfilesDATA
	make -C src/tools DESTDIR=$PKG uninstall
	make -C src/compositor/plugins DESTDIR=$PKG uninstall
	make -C doc/man DESTDIR=$PKG uninstall
}
